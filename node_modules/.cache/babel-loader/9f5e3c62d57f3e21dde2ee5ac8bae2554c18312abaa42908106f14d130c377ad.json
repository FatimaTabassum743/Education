{"ast":null,"code":"import React,{useState}from'react';import{Lock}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedButton=_ref=>{let{children,onClick,courseName,className='',disabled=false,showLoginPrompt=true}=_ref;const{user,hasAccessToCourse}=useAuth();const[showPrompt,setShowPrompt]=useState(false);const handleClick=e=>{// If user is not logged in, show login prompt\nif(!user){e.preventDefault();if(showLoginPrompt){setShowPrompt(true);// Auto-hide prompt after 3 seconds\nsetTimeout(()=>setShowPrompt(false),3000);}return;}// If course-specific access is required and user doesn't have access\nif(courseName&&!hasAccessToCourse(courseName)){e.preventDefault();setShowPrompt(true);setTimeout(()=>setShowPrompt(false),3000);return;}// If all checks pass, call the original onClick\nif(onClick){onClick(e);}};const isDisabled=disabled;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,disabled:isDisabled,className:\"\".concat(className,\" \").concat(!user||courseName&&!hasAccessToCourse(courseName)?'opacity-50 cursor-not-allowed':''),children:children}),showPrompt&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-500 text-white rounded-lg shadow-lg w-44 text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium px-2 text-center\",children:!user?'Please login first':\"You don't have Access\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-4 border-transparent border-t-red-500\"})})]})]});};export default ProtectedButton;","map":{"version":3,"names":["React","useState","Lock","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedButton","_ref","children","onClick","courseName","className","disabled","showLoginPrompt","user","hasAccessToCourse","showPrompt","setShowPrompt","handleClick","e","preventDefault","setTimeout","isDisabled","concat"],"sources":["C:/Users/44757/OneDrive/Desktop/GenZ/Education/src/components/ProtectedButton.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Lock } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst ProtectedButton = ({ \n  children, \n  onClick, \n  courseName, \n  className = '', \n  disabled = false,\n  showLoginPrompt = true \n}) => {\n  const { user, hasAccessToCourse } = useAuth();\n  const [showPrompt, setShowPrompt] = useState(false);\n\n  const handleClick = (e) => {\n    // If user is not logged in, show login prompt\n    if (!user) {\n      e.preventDefault();\n      if (showLoginPrompt) {\n        setShowPrompt(true);\n        // Auto-hide prompt after 3 seconds\n        setTimeout(() => setShowPrompt(false), 3000);\n      }\n      return;\n    }\n\n    // If course-specific access is required and user doesn't have access\n    if (courseName && !hasAccessToCourse(courseName)) {\n      e.preventDefault();\n      setShowPrompt(true);\n      setTimeout(() => setShowPrompt(false), 3000);\n      return;\n    }\n\n    // If all checks pass, call the original onClick\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  const isDisabled = disabled;\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={handleClick}\n        disabled={isDisabled}\n        className={`${className} ${(!user || (courseName && !hasAccessToCourse(courseName))) ? 'opacity-50 cursor-not-allowed' : ''}`}\n      >\n        {children}\n      </button>\n\n      {/* Login Prompt Toast */}\n      {showPrompt && (\n        <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50\">\n          <div className=\"bg-red-500 text-white rounded-lg shadow-lg w-44 text-center\">\n           \n            <span className=\"text-sm font-medium px-2 text-center\">\n              {!user ? 'Please login first' : `You don't have Access`}\n            </span>\n          </div>\n          {/* Arrow pointing down */}\n          <div className=\"absolute top-full left-1/2 transform -translate-x-1/2\">\n            <div className=\"border-4 border-transparent border-t-red-500\"></div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProtectedButton; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,KAAQ,cAAc,CACnC,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAOlB,IAPmB,CACvBC,QAAQ,CACRC,OAAO,CACPC,UAAU,CACVC,SAAS,CAAG,EAAE,CACdC,QAAQ,CAAG,KAAK,CAChBC,eAAe,CAAG,IACpB,CAAC,CAAAN,IAAA,CACC,KAAM,CAAEO,IAAI,CAAEC,iBAAkB,CAAC,CAAGd,OAAO,CAAC,CAAC,CAC7C,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAmB,WAAW,CAAIC,CAAC,EAAK,CACzB;AACA,GAAI,CAACL,IAAI,CAAE,CACTK,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIP,eAAe,CAAE,CACnBI,aAAa,CAAC,IAAI,CAAC,CACnB;AACAI,UAAU,CAAC,IAAMJ,aAAa,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CAC9C,CACA,OACF,CAEA;AACA,GAAIP,UAAU,EAAI,CAACK,iBAAiB,CAACL,UAAU,CAAC,CAAE,CAChDS,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBH,aAAa,CAAC,IAAI,CAAC,CACnBI,UAAU,CAAC,IAAMJ,aAAa,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CAC5C,OACF,CAEA;AACA,GAAIR,OAAO,CAAE,CACXA,OAAO,CAACU,CAAC,CAAC,CACZ,CACF,CAAC,CAED,KAAM,CAAAG,UAAU,CAAGV,QAAQ,CAE3B,mBACEP,KAAA,QAAKM,SAAS,CAAC,UAAU,CAAAH,QAAA,eACvBL,IAAA,WACEM,OAAO,CAAES,WAAY,CACrBN,QAAQ,CAAEU,UAAW,CACrBX,SAAS,IAAAY,MAAA,CAAKZ,SAAS,MAAAY,MAAA,CAAK,CAACT,IAAI,EAAKJ,UAAU,EAAI,CAACK,iBAAiB,CAACL,UAAU,CAAE,CAAI,+BAA+B,CAAG,EAAE,CAAG,CAAAF,QAAA,CAE7HA,QAAQ,CACH,CAAC,CAGRQ,UAAU,eACTX,KAAA,QAAKM,SAAS,CAAC,oEAAoE,CAAAH,QAAA,eACjFL,IAAA,QAAKQ,SAAS,CAAC,6DAA6D,CAAAH,QAAA,cAE1EL,IAAA,SAAMQ,SAAS,CAAC,sCAAsC,CAAAH,QAAA,CACnD,CAACM,IAAI,CAAG,oBAAoB,wBAA0B,CACnD,CAAC,CACJ,CAAC,cAENX,IAAA,QAAKQ,SAAS,CAAC,uDAAuD,CAAAH,QAAA,cACpEL,IAAA,QAAKQ,SAAS,CAAC,8CAA8C,CAAM,CAAC,CACjE,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}