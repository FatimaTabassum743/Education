{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Helmet}from'react-helmet';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PerformanceOptimizer=_ref=>{let{preloadImages=[],preloadFonts=[],criticalCSS='',deferScripts=[]}=_ref;const[isLoaded,setIsLoaded]=useState(false);useEffect(()=>{// Mark as loaded after initial render\nsetIsLoaded(true);},[]);return/*#__PURE__*/_jsxs(Helmet,{children:[preloadImages.map((image,index)=>/*#__PURE__*/_jsx(\"link\",{rel:\"preload\",as:\"image\",href:image,type:\"image/webp\"},\"preload-image-\".concat(index))),preloadFonts.map((font,index)=>/*#__PURE__*/_jsx(\"link\",{rel:\"preload\",as:\"font\",href:font,type:\"font/woff2\",crossOrigin:\"anonymous\"},\"preload-font-\".concat(index))),criticalCSS&&/*#__PURE__*/_jsx(\"style\",{type:\"text/css\",children:criticalCSS}),deferScripts.map((script,index)=>/*#__PURE__*/_jsx(\"script\",{src:script,defer:true},\"defer-script-\".concat(index))),/*#__PURE__*/_jsx(\"link\",{rel:\"dns-prefetch\",href:\"//fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"dns-prefetch\",href:\"//images.unsplash.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"dns-prefetch\",href:\"//cdn.jsdelivr.net\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossOrigin:\"anonymous\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://images.unsplash.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"prefetch\",href:\"/courses\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"prefetch\",href:\"/about\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"prefetch\",href:\"/contact\"})]});};// Lazy loading component for images\nexport const LazyImage=_ref2=>{let{src,alt,className,placeholder=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3C/svg%3E\"}=_ref2;const[imageSrc,setImageSrc]=useState(placeholder);const[imageRef,setImageRef]=useState();useEffect(()=>{let observer;let didCancel=false;if(imageRef&&imageSrc===placeholder){if(IntersectionObserver){observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(!didCancel&&(entry.intersectionRatio>0||entry.isIntersecting)){setImageSrc(src);observer.unobserve(imageRef);}});},{threshold:0.01,rootMargin:\"75%\"});observer.observe(imageRef);}else{// Fallback for older browsers\nsetImageSrc(src);}}return()=>{didCancel=true;if(observer&&observer.unobserve){observer.unobserve(imageRef);}};},[src,imageSrc,imageRef]);return/*#__PURE__*/_jsx(\"img\",{ref:setImageRef,src:imageSrc,alt:alt,className:className,loading:\"lazy\"});};// Component for optimizing text content\nexport const OptimizedText=_ref3=>{let{children,className,maxLength=150}=_ref3;const[isExpanded,setIsExpanded]=useState(false);const text=typeof children==='string'?children:'';if(text.length<=maxLength){return/*#__PURE__*/_jsx(\"span\",{className:className,children:children});}return/*#__PURE__*/_jsxs(\"span\",{className:className,children:[isExpanded?text:\"\".concat(text.slice(0,maxLength),\"...\"),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsExpanded(!isExpanded),className:\"text-primary-600 hover:text-primary-700 ml-1 underline\",children:isExpanded?'Show less':'Read more'})]});};export default PerformanceOptimizer;","map":{"version":3,"names":["React","useEffect","useState","Helmet","jsx","_jsx","jsxs","_jsxs","PerformanceOptimizer","_ref","preloadImages","preloadFonts","criticalCSS","deferScripts","isLoaded","setIsLoaded","children","map","image","index","rel","as","href","type","concat","font","crossOrigin","script","src","defer","LazyImage","_ref2","alt","className","placeholder","imageSrc","setImageSrc","imageRef","setImageRef","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","rootMargin","observe","ref","loading","OptimizedText","_ref3","maxLength","isExpanded","setIsExpanded","text","length","slice","onClick"],"sources":["C:/Users/44757/OneDrive/Desktop/GenZ/Education/src/components/PerformanceOptimizer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\n\nconst PerformanceOptimizer = ({ \n  preloadImages = [],\n  preloadFonts = [],\n  criticalCSS = '',\n  deferScripts = []\n}) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    // Mark as loaded after initial render\n    setIsLoaded(true);\n  }, []);\n\n  return (\n    <Helmet>\n      {/* Preload critical resources */}\n      {preloadImages.map((image, index) => (\n        <link\n          key={`preload-image-${index}`}\n          rel=\"preload\"\n          as=\"image\"\n          href={image}\n          type=\"image/webp\"\n        />\n      ))}\n      \n      {preloadFonts.map((font, index) => (\n        <link\n          key={`preload-font-${index}`}\n          rel=\"preload\"\n          as=\"font\"\n          href={font}\n          type=\"font/woff2\"\n          crossOrigin=\"anonymous\"\n        />\n      ))}\n\n      {/* Critical CSS inline */}\n      {criticalCSS && (\n        <style type=\"text/css\">\n          {criticalCSS}\n        </style>\n      )}\n\n      {/* Defer non-critical scripts */}\n      {deferScripts.map((script, index) => (\n        <script\n          key={`defer-script-${index}`}\n          src={script}\n          defer\n        />\n      ))}\n\n      {/* DNS prefetch for external domains */}\n      <link rel=\"dns-prefetch\" href=\"//fonts.googleapis.com\" />\n      <link rel=\"dns-prefetch\" href=\"//images.unsplash.com\" />\n      <link rel=\"dns-prefetch\" href=\"//cdn.jsdelivr.net\" />\n\n      {/* Preconnect to external domains */}\n      <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n      <link rel=\"preconnect\" href=\"https://images.unsplash.com\" />\n\n      {/* Resource hints for better performance */}\n      <link rel=\"prefetch\" href=\"/courses\" />\n      <link rel=\"prefetch\" href=\"/about\" />\n      <link rel=\"prefetch\" href=\"/contact\" />\n    </Helmet>\n  );\n};\n\n// Lazy loading component for images\nexport const LazyImage = ({ src, alt, className, placeholder = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3C/svg%3E\" }) => {\n  const [imageSrc, setImageSrc] = useState(placeholder);\n  const [imageRef, setImageRef] = useState();\n\n  useEffect(() => {\n    let observer;\n    let didCancel = false;\n\n    if (imageRef && imageSrc === placeholder) {\n      if (IntersectionObserver) {\n        observer = new IntersectionObserver(\n          entries => {\n            entries.forEach(entry => {\n              if (\n                !didCancel &&\n                (entry.intersectionRatio > 0 || entry.isIntersecting)\n              ) {\n                setImageSrc(src);\n                observer.unobserve(imageRef);\n              }\n            });\n          },\n          {\n            threshold: 0.01,\n            rootMargin: \"75%\"\n          }\n        );\n        observer.observe(imageRef);\n      } else {\n        // Fallback for older browsers\n        setImageSrc(src);\n      }\n    }\n    return () => {\n      didCancel = true;\n      if (observer && observer.unobserve) {\n        observer.unobserve(imageRef);\n      }\n    };\n  }, [src, imageSrc, imageRef]);\n\n  return (\n    <img\n      ref={setImageRef}\n      src={imageSrc}\n      alt={alt}\n      className={className}\n      loading=\"lazy\"\n    />\n  );\n};\n\n// Component for optimizing text content\nexport const OptimizedText = ({ children, className, maxLength = 150 }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const text = typeof children === 'string' ? children : '';\n  \n  if (text.length <= maxLength) {\n    return <span className={className}>{children}</span>;\n  }\n\n  return (\n    <span className={className}>\n      {isExpanded ? text : `${text.slice(0, maxLength)}...`}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"text-primary-600 hover:text-primary-700 ml-1 underline\"\n      >\n        {isExpanded ? 'Show less' : 'Read more'}\n      </button>\n    </span>\n  );\n};\n\nexport default PerformanceOptimizer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}