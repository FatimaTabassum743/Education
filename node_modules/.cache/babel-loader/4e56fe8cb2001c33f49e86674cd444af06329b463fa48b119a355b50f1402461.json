{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Helmet}from'react-helmet';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PerformanceOptimizer=_ref=>{let{preloadImages=[],preloadFonts=[],criticalCSS='',deferScripts=[]}=_ref;const[isLoaded,setIsLoaded]=useState(false);useEffect(()=>{// Mark as loaded after initial render\nsetIsLoaded(true);},[]);return/*#__PURE__*/_jsx(Helmet,{});};// Lazy loading component for images\nexport const LazyImage=_ref2=>{let{src,alt,className,placeholder=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3C/svg%3E\"}=_ref2;const[imageSrc,setImageSrc]=useState(placeholder);const[imageRef,setImageRef]=useState();useEffect(()=>{let observer;let didCancel=false;if(imageRef&&imageSrc===placeholder){if(IntersectionObserver){observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(!didCancel&&(entry.intersectionRatio>0||entry.isIntersecting)){setImageSrc(src);observer.unobserve(imageRef);}});},{threshold:0.01,rootMargin:\"75%\"});observer.observe(imageRef);}else{// Fallback for older browsers\nsetImageSrc(src);}}return()=>{didCancel=true;if(observer&&observer.unobserve){observer.unobserve(imageRef);}};},[src,imageSrc,imageRef]);return/*#__PURE__*/_jsx(\"img\",{ref:setImageRef,src:imageSrc,alt:alt,className:className,loading:\"lazy\"});};// Component for optimizing text content\nexport const OptimizedText=_ref3=>{let{children,className,maxLength=150}=_ref3;const[isExpanded,setIsExpanded]=useState(false);const text=typeof children==='string'?children:'';if(text.length<=maxLength){return/*#__PURE__*/_jsx(\"span\",{className:className,children:children});}return/*#__PURE__*/_jsxs(\"span\",{className:className,children:[isExpanded?text:\"\".concat(text.slice(0,maxLength),\"...\"),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsExpanded(!isExpanded),className:\"text-primary-600 hover:text-primary-700 ml-1 underline\",children:isExpanded?'Show less':'Read more'})]});};export default PerformanceOptimizer;","map":{"version":3,"names":["React","useEffect","useState","Helmet","jsx","_jsx","jsxs","_jsxs","PerformanceOptimizer","_ref","preloadImages","preloadFonts","criticalCSS","deferScripts","isLoaded","setIsLoaded","LazyImage","_ref2","src","alt","className","placeholder","imageSrc","setImageSrc","imageRef","setImageRef","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","rootMargin","observe","ref","loading","OptimizedText","_ref3","children","maxLength","isExpanded","setIsExpanded","text","length","concat","slice","onClick"],"sources":["C:/Users/44757/OneDrive/Desktop/GenZ/Education/src/components/PerformanceOptimizer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst PerformanceOptimizer = ({ \r\n  preloadImages = [],\r\n  preloadFonts = [],\r\n  criticalCSS = '',\r\n  deferScripts = []\r\n}) => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Mark as loaded after initial render\r\n    setIsLoaded(true);\r\n  }, []);\r\n\r\n  return (\r\n    <Helmet>\r\n      {/* Preload critical resources - DISABLED TO PREVENT CACHING ISSUES */}\r\n      {/* {preloadImages.map((image, index) => (\r\n        <link\r\n          key={`preload-image-${index}`}\r\n          rel=\"preload\"\r\n          as=\"image\"\r\n          href={image}\r\n          type=\"image/webp\"\r\n        />\r\n      ))}\r\n      \r\n      {preloadFonts.map((font, index) => (\r\n        <link\r\n          key={`preload-font-${index}`}\r\n          rel=\"preload\"\r\n          as=\"font\"\r\n          href={font}\r\n          type=\"font/woff2\"\r\n          crossOrigin=\"anonymous\"\r\n        />\r\n      ))}\r\n\r\n      Critical CSS inline - DISABLED\r\n      {criticalCSS && (\r\n        <style type=\"text/css\">\r\n          {criticalCSS}\r\n        </style>\r\n      )}\r\n\r\n      Defer non-critical scripts - DISABLED\r\n      {deferScripts.map((script, index) => (\r\n        <script\r\n          key={`defer-script-${index}`}\r\n          src={script}\r\n          defer\r\n        />\r\n      ))}\r\n\r\n      DNS prefetch for external domains - DISABLED\r\n      <link rel=\"dns-prefetch\" href=\"//fonts.googleapis.com\" />\r\n      <link rel=\"dns-prefetch\" href=\"//images.unsplash.com\" />\r\n      <link rel=\"dns-prefetch\" href=\"//cdn.jsdelivr.net\" />\r\n\r\n      Preconnect to external domains - DISABLED\r\n      <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\r\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\r\n      <link rel=\"preconnect\" href=\"https://images.unsplash.com\" />\r\n\r\n      Resource hints for better performance - DISABLED\r\n      <link rel=\"prefetch\" href=\"/courses\" />\r\n      <link rel=\"prefetch\" href=\"/about\" />\r\n      <link rel=\"prefetch\" href=\"/contact\" /> */}\r\n    </Helmet>\r\n  );\r\n};\r\n\r\n// Lazy loading component for images\r\nexport const LazyImage = ({ src, alt, className, placeholder = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1'%3E%3C/svg%3E\" }) => {\r\n  const [imageSrc, setImageSrc] = useState(placeholder);\r\n  const [imageRef, setImageRef] = useState();\r\n\r\n  useEffect(() => {\r\n    let observer;\r\n    let didCancel = false;\r\n\r\n    if (imageRef && imageSrc === placeholder) {\r\n      if (IntersectionObserver) {\r\n        observer = new IntersectionObserver(\r\n          entries => {\r\n            entries.forEach(entry => {\r\n              if (\r\n                !didCancel &&\r\n                (entry.intersectionRatio > 0 || entry.isIntersecting)\r\n              ) {\r\n                setImageSrc(src);\r\n                observer.unobserve(imageRef);\r\n              }\r\n            });\r\n          },\r\n          {\r\n            threshold: 0.01,\r\n            rootMargin: \"75%\"\r\n          }\r\n        );\r\n        observer.observe(imageRef);\r\n      } else {\r\n        // Fallback for older browsers\r\n        setImageSrc(src);\r\n      }\r\n    }\r\n    return () => {\r\n      didCancel = true;\r\n      if (observer && observer.unobserve) {\r\n        observer.unobserve(imageRef);\r\n      }\r\n    };\r\n  }, [src, imageSrc, imageRef]);\r\n\r\n  return (\r\n    <img\r\n      ref={setImageRef}\r\n      src={imageSrc}\r\n      alt={alt}\r\n      className={className}\r\n      loading=\"lazy\"\r\n    />\r\n  );\r\n};\r\n\r\n// Component for optimizing text content\r\nexport const OptimizedText = ({ children, className, maxLength = 150 }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const text = typeof children === 'string' ? children : '';\r\n  \r\n  if (text.length <= maxLength) {\r\n    return <span className={className}>{children}</span>;\r\n  }\r\n\r\n  return (\r\n    <span className={className}>\r\n      {isExpanded ? text : `${text.slice(0, maxLength)}...`}\r\n      <button\r\n        onClick={() => setIsExpanded(!isExpanded)}\r\n        className=\"text-primary-600 hover:text-primary-700 ml-1 underline\"\r\n      >\r\n        {isExpanded ? 'Show less' : 'Read more'}\r\n      </button>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default PerformanceOptimizer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}