{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Download,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MobileInstallBanner=_ref=>{let{onBannerStateChange}=_ref;const[deferredPrompt,setDeferredPrompt]=useState(null);const[showBanner,setShowBanner]=useState(false);const[isInstalled,setIsInstalled]=useState(false);useEffect(()=>{// Check if app is already installed\nif(window.matchMedia&&window.matchMedia('(display-mode: standalone)').matches){setIsInstalled(true);return;}// Listen for the beforeinstallprompt event\nconst handleBeforeInstallPrompt=e=>{e.preventDefault();setDeferredPrompt(e);setShowBanner(true);onBannerStateChange===null||onBannerStateChange===void 0?void 0:onBannerStateChange(true);};// Listen for app installed\nconst handleAppInstalled=()=>{setShowBanner(false);setIsInstalled(true);onBannerStateChange===null||onBannerStateChange===void 0?void 0:onBannerStateChange(false);console.log('PWA was installed');};window.addEventListener('beforeinstallprompt',handleBeforeInstallPrompt);window.addEventListener('appinstalled',handleAppInstalled);return()=>{window.removeEventListener('beforeinstallprompt',handleBeforeInstallPrompt);window.removeEventListener('appinstalled',handleAppInstalled);};},[]);const handleInstallClick=async()=>{if(deferredPrompt){deferredPrompt.prompt();const{outcome}=await deferredPrompt.userChoice;if(outcome==='accepted'){console.log('User accepted the install prompt');}else{console.log('User dismissed the install prompt');}setDeferredPrompt(null);setShowBanner(false);}};const handleDismiss=()=>{setShowBanner(false);onBannerStateChange===null||onBannerStateChange===void 0?void 0:onBannerStateChange(false);};// Don't show if already installed\nif(isInstalled||!showBanner){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"mobile-banner bg-white/70 backdrop-blur-lg border-b border-gray-200 px-4 py-3 shadow-sm md:hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Get the app for a better experience\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleInstallClick,className:\"bg-gradient-to-r from-purple-500 w-28 to-blue-500 text-white px-2 py-2 rounded-lg text-sm font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 inline mr-1\"}),\"Get App\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDismiss,className:\"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]})]})});};export default MobileInstallBanner;","map":{"version":3,"names":["React","useState","useEffect","Download","X","jsx","_jsx","jsxs","_jsxs","MobileInstallBanner","_ref","onBannerStateChange","deferredPrompt","setDeferredPrompt","showBanner","setShowBanner","isInstalled","setIsInstalled","window","matchMedia","matches","handleBeforeInstallPrompt","e","preventDefault","handleAppInstalled","console","log","addEventListener","removeEventListener","handleInstallClick","prompt","outcome","userChoice","handleDismiss","className","children","onClick"],"sources":["C:/Users/44757/OneDrive/Desktop/GenZ/Education/src/components/MobileInstallBanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Download, X } from 'lucide-react';\n\nconst MobileInstallBanner = ({ onBannerStateChange }) => {\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\n  const [showBanner, setShowBanner] = useState(false);\n  const [isInstalled, setIsInstalled] = useState(false);\n\n  useEffect(() => {\n    // Check if app is already installed\n    if (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches) {\n      setIsInstalled(true);\n      return;\n    }\n\n    // Listen for the beforeinstallprompt event\n    const handleBeforeInstallPrompt = (e) => {\n      e.preventDefault();\n      setDeferredPrompt(e);\n      setShowBanner(true);\n      onBannerStateChange?.(true);\n    };\n\n    // Listen for app installed\n    const handleAppInstalled = () => {\n      setShowBanner(false);\n      setIsInstalled(true);\n      onBannerStateChange?.(false);\n      console.log('PWA was installed');\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    window.addEventListener('appinstalled', handleAppInstalled);\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n      window.removeEventListener('appinstalled', handleAppInstalled);\n    };\n  }, []);\n\n  const handleInstallClick = async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      if (outcome === 'accepted') {\n        console.log('User accepted the install prompt');\n      } else {\n        console.log('User dismissed the install prompt');\n      }\n      setDeferredPrompt(null);\n      setShowBanner(false);\n    }\n  };\n\n  const handleDismiss = () => {\n    setShowBanner(false);\n    onBannerStateChange?.(false);\n  };\n\n  // Don't show if already installed\n  if (isInstalled || !showBanner) {\n    return null;\n  }\n\n  return (\n    <div className=\"mobile-banner bg-white/70 backdrop-blur-lg border-b border-gray-200 px-4 py-3 shadow-sm md:hidden\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-3\">\n         \n          <div>\n            <p className=\"text-xs text-gray-600\">Get the app for a better experience</p>\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-1\">\n        <button\n                  onClick={handleInstallClick}\n                  className=\"bg-gradient-to-r from-purple-500 w-28 to-blue-500 text-white px-2 py-2 rounded-lg text-sm font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n                >\n                  <Download className=\"w-4 h-4 inline mr-1\" />\n                  Get App\n                </button>\n          <button\n            onClick={handleDismiss}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MobileInstallBanner;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}