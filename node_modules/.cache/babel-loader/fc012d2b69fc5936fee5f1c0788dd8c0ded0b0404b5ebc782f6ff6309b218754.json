{"ast":null,"code":"// Local Storage Service with CSV Export\n// Stores data locally and allows Excel export\nclass LocalStorageService{constructor(){this.storageKey=process.env.REACT_APP_LOCALSTORAGE_KEY||'fiesta_form_submissions';}// Add new form submission to local storage\nasync addFormData(formData){try{const submissions=this.getSubmissions();const newSubmission={id:Date.now().toString(),timestamp:new Date().toISOString(),name:formData.name,email:formData.email,phone:formData.phone||'Not provided',age:formData.age||'Not provided',country:formData.country||'Not provided',course:formData.course||'General Inquiry',message:formData.message||'No message provided',type:formData.demo==='Yes'?'demo':'inquiry',status:'new'// Use lowercase status values\n};submissions.unshift(newSubmission);// Add to beginning\nlocalStorage.setItem(this.storageKey,JSON.stringify(submissions));return newSubmission;}catch(error){console.error('Error saving to local storage:',error);throw error;}}// Get all form submissions\nasync getFormData(){try{return this.getSubmissions();}catch(error){console.error('Error fetching from local storage:',error);throw error;}}// Update status of a submission\nasync updateStatus(submissionId,status){try{const submissions=this.getSubmissions();const submissionIndex=submissions.findIndex(s=>s.id===submissionId);if(submissionIndex!==-1){submissions[submissionIndex].status=status.toLowerCase();// Ensure lowercase\nlocalStorage.setItem(this.storageKey,JSON.stringify(submissions));return submissions[submissionIndex];}throw new Error('Submission not found');}catch(error){console.error('Error updating status:',error);throw error;}}// Get submissions from localStorage\ngetSubmissions(){const stored=localStorage.getItem(this.storageKey);return stored?JSON.parse(stored):[];}// Export to CSV for Excel\nexportToCSV(){const submissions=this.getSubmissions();if(submissions.length===0){alert('No data to export');return;}const headers=['Timestamp','Name','Email','Phone','Age','Country','Course','Message','Type','Status'];const csvContent=[headers.join(','),...submissions.map(submission=>[submission.timestamp,\"\\\"\".concat(submission.name,\"\\\"\"),submission.email,\"\\\"\".concat(submission.phone,\"\\\"\"),submission.age,\"\\\"\".concat(submission.country,\"\\\"\"),\"\\\"\".concat(submission.course,\"\\\"\"),\"\\\"\".concat(submission.message,\"\\\"\"),submission.type,submission.status].join(','))].join('\\n');const blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');if(link.download!==undefined){const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',\"kodezacademy-form-data-\".concat(new Date().toISOString().split('T')[0],\".csv\"));link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);}}// Clear all data or specific entry\nclearData(){let id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(id){// Delete specific entry\nconst submissions=this.getSubmissions();const filteredSubmissions=submissions.filter(s=>s.id!==id);localStorage.setItem(this.storageKey,JSON.stringify(filteredSubmissions));}else{// Clear all data\nlocalStorage.removeItem(this.storageKey);}}// Get statistics\ngetStats(){const submissions=this.getSubmissions();return{total:submissions.length,new:submissions.filter(s=>s.status==='new').length,contacted:submissions.filter(s=>s.status==='contacted').length,completed:submissions.filter(s=>s.status==='completed').length,demo:submissions.filter(s=>s.type==='demo').length};}}const localStorageService=new LocalStorageService();export default localStorageService;","map":{"version":3,"names":["LocalStorageService","constructor","storageKey","process","env","REACT_APP_LOCALSTORAGE_KEY","addFormData","formData","submissions","getSubmissions","newSubmission","id","Date","now","toString","timestamp","toISOString","name","email","phone","age","country","course","message","type","demo","status","unshift","localStorage","setItem","JSON","stringify","error","console","getFormData","updateStatus","submissionId","submissionIndex","findIndex","s","toLowerCase","Error","stored","getItem","parse","exportToCSV","length","alert","headers","csvContent","join","map","submission","concat","blob","Blob","link","document","createElement","download","undefined","url","URL","createObjectURL","setAttribute","split","style","visibility","body","appendChild","click","removeChild","clearData","arguments","filteredSubmissions","filter","removeItem","getStats","total","new","contacted","completed","localStorageService"],"sources":["C:/Users/44757/OneDrive/Desktop/GenZ/Education/src/services/localStorageService.js"],"sourcesContent":["// Local Storage Service with CSV Export\n// Stores data locally and allows Excel export\n\nclass LocalStorageService {\n  constructor() {\n    this.storageKey = process.env.REACT_APP_LOCALSTORAGE_KEY || 'fiesta_form_submissions';\n  }\n\n  // Add new form submission to local storage\n  async addFormData(formData) {\n    try {\n      const submissions = this.getSubmissions();\n      \n      const newSubmission = {\n        id: Date.now().toString(),\n        timestamp: new Date().toISOString(),\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone || 'Not provided',\n        age: formData.age || 'Not provided',\n        country: formData.country || 'Not provided',\n        course: formData.course || 'General Inquiry',\n        message: formData.message || 'No message provided',\n        type: formData.demo === 'Yes' ? 'demo' : 'inquiry',\n        status: 'new' // Use lowercase status values\n      };\n\n      submissions.unshift(newSubmission); // Add to beginning\n      localStorage.setItem(this.storageKey, JSON.stringify(submissions));\n\n      return newSubmission;\n    } catch (error) {\n      console.error('Error saving to local storage:', error);\n      throw error;\n    }\n  }\n\n  // Get all form submissions\n  async getFormData() {\n    try {\n      return this.getSubmissions();\n    } catch (error) {\n      console.error('Error fetching from local storage:', error);\n      throw error;\n    }\n  }\n\n  // Update status of a submission\n  async updateStatus(submissionId, status) {\n    try {\n      const submissions = this.getSubmissions();\n      const submissionIndex = submissions.findIndex(s => s.id === submissionId);\n      \n      if (submissionIndex !== -1) {\n        submissions[submissionIndex].status = status.toLowerCase(); // Ensure lowercase\n        localStorage.setItem(this.storageKey, JSON.stringify(submissions));\n        return submissions[submissionIndex];\n      }\n      \n      throw new Error('Submission not found');\n    } catch (error) {\n      console.error('Error updating status:', error);\n      throw error;\n    }\n  }\n\n  // Get submissions from localStorage\n  getSubmissions() {\n    const stored = localStorage.getItem(this.storageKey);\n    return stored ? JSON.parse(stored) : [];\n  }\n\n  // Export to CSV for Excel\n  exportToCSV() {\n    const submissions = this.getSubmissions();\n    \n    if (submissions.length === 0) {\n      alert('No data to export');\n      return;\n    }\n\n    const headers = [\n      'Timestamp',\n      'Name',\n      'Email', \n      'Phone',\n      'Age',\n      'Country',\n      'Course',\n      'Message',\n      'Type',\n      'Status'\n    ];\n\n    const csvContent = [\n      headers.join(','),\n      ...submissions.map(submission => [\n        submission.timestamp,\n        `\"${submission.name}\"`,\n        submission.email,\n        `\"${submission.phone}\"`,\n        submission.age,\n        `\"${submission.country}\"`,\n        `\"${submission.course}\"`,\n        `\"${submission.message}\"`,\n        submission.type,\n        submission.status\n      ].join(','))\n    ].join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    \n    if (link.download !== undefined) {\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `kodezacademy-form-data-${new Date().toISOString().split('T')[0]}.csv`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n\n  // Clear all data or specific entry\n  clearData(id = null) {\n    if (id) {\n      // Delete specific entry\n      const submissions = this.getSubmissions();\n      const filteredSubmissions = submissions.filter(s => s.id !== id);\n      localStorage.setItem(this.storageKey, JSON.stringify(filteredSubmissions));\n    } else {\n      // Clear all data\n      localStorage.removeItem(this.storageKey);\n    }\n  }\n\n  // Get statistics\n  getStats() {\n    const submissions = this.getSubmissions();\n    return {\n      total: submissions.length,\n      new: submissions.filter(s => s.status === 'new').length,\n      contacted: submissions.filter(s => s.status === 'contacted').length,\n      completed: submissions.filter(s => s.status === 'completed').length,\n      demo: submissions.filter(s => s.type === 'demo').length\n    };\n  }\n}\n\nconst localStorageService = new LocalStorageService();\nexport default localStorageService; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}