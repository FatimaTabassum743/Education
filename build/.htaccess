# InfinityFree .htaccess for React App

# Enable rewrite engine
RewriteEngine On

# Handle React Router - Single Page Application
RewriteBase /
RewriteRule ^index\.html$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

# Proper MIME types for PWA
AddType application/javascript .js
AddType text/css .css
AddType application/manifest+json .webmanifest
AddType application/manifest+json .json

# Enable compression (if available)
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/plain
  AddOutputFilterByType DEFLATE text/html
  AddOutputFilterByType DEFLATE text/xml
  AddOutputFilterByType DEFLATE text/css
  AddOutputFilterByType DEFLATE application/xml
  AddOutputFilterByType DEFLATE application/xhtml+xml
  AddOutputFilterByType DEFLATE application/rss+xml
  AddOutputFilterByType DEFLATE application/javascript
  AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>

# Prevent access to sensitive files
<Files ".htaccess">
  Order allow,deny
  Deny from all
</Files>

<Files "*.log">
  Order allow,deny
  Deny from all
</Files> 